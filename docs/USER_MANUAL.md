# 印刷施工单跟踪系统 - 用户手册

## 目录

1. [系统概述](#系统概述)
2. [角色与权限](#角色与权限)
3. [快速开始](#快速开始)
4. [施工单管理](#施工单管理)
5. [任务管理](#任务管理)
6. [部门主管功能](#部门主管功能)
7. [操作员功能](#操作员功能)
8. [实时通知](#实时通知)
9. [数据统计](#数据统计)
10. [常见问题](#常见问题)

## 系统概述

印刷施工单跟踪系统是一个用于管理印刷施工单和生产任务的综合系统。系统实现了"创建即分派，审核即开工"的理念，施工单一经创建即可预览所有任务，审核通过后任务立即可用。

**核心功能**：
- 施工单的创建、编辑和审核
- 任务的自动生成和智能分派
- 部门主管的任务分配
- 操作员的任务认领和进度更新
- 实时的任务通知
- 完整的数据统计和分析

## 角色与权限

### 系统管理员

系统管理员拥有所有权限，负责用户管理和系统配置。

### 部门主管

部门主管负责：
- 审核施工单
- 分配任务给操作员
- 查看部门任务统计
- 配置工序分派规则

### 操作员

操作员负责：
- 查看分配的任务
- 认领未分配的任务
- 更新任务进度
- 完成任务

### 制单员/销售

制单员和销售人员负责：
- 创建施工单
- 编辑草稿状态的施工单
- 查看自己创建的施工单

## 快速开始

### 登录系统

1. 打开浏览器，访问系统地址
2. 输入用户名和密码
3. 点击"登录"按钮

### 首页导航

登录后，首页显示：
- 顶部导航栏：包含主要功能菜单
- 通知铃铛：显示未读通知数量
- 用户菜单：个人信息和退出登录

左侧菜单包含：
- 施工单管理
- 任务中心
- 部门主管（仅主管可见）
- 操作员中心（仅操作员可见）
- 数据统计
- 系统设置

## 施工单管理

### 创建施工单

1. 点击左侧菜单"施工单管理"
2. 点击"新建施工单"按钮
3. 填写施工单基本信息：
   - 客户：从下拉列表选择客户
   - 生产数量：输入生产数量
   - 交货日期：选择交货日期
   - 优先级：选择紧急程度（低/普通/高/紧急）
   - 备注：输入可选的备注信息
4. 添加产品：
   - 点击"添加产品"
   - 选择产品和数量
5. 选择工序：
   - 从可用工序列表中选择需要的工序
   - 工序会自动排序
6. 确认后，系统自动为每个工序生成草稿任务
7. 点击"提交"保存施工单

### 编辑施工单

**注意**：只有"草稿"或"已提交"状态的施工单可以编辑。

1. 在施工单列表中找到要编辑的施工单
2. 点击"编辑"按钮
3. 修改需要更改的内容
4. 点击"保存"提交修改

**编辑工序时的注意事项**：
- 如果工序发生变化，系统会提示是否同步任务
- 选择"是"会添加新工序的任务，删除已移除工序的任务
- 草稿任务可以手动删除或批量编辑

### 审核施工单

部门主管可以审核施工单：

1. 打开施工单详情
2. 点击"审核通过"按钮
3. 系统执行以下操作：
   - 所有草稿任务转换为正式任务
   - 根据分派规则自动分配到部门
   - 施工单状态变更为"已审核"

如果需要拒绝：
1. 点击"审核拒绝"
2. 输入拒绝原因
3. 所有草稿任务将被删除
4. 施工单状态变更为"已拒绝"

## 任务管理

### 任务列表

任务列表显示所有你有权限查看的任务：

**筛选功能**：
- 按部门筛选
- 按状态筛选（草稿/待分配/进行中/已完成/已取消）
- 按操作员筛选
- 按优先级筛选
- 搜索关键词

**任务状态说明**：
- 草稿（灰色）：施工单未审核时的临时状态
- 待分配（蓝色）：已分配到部门，等待分配操作员
- 进行中（黄色）：操作员正在处理
- 已完成（绿色）：任务已完成

### 查看任务详情

1. 点击任务列表中的任务
2. 详情页显示：
   - 关联的施工单信息
   - 工序信息
   - 分配的部门和操作员
   - 任务数量和完成进度
   - 任务日志

### 批量操作

选中多个任务后，可以执行：
- 批量分配（主管权限）
- 批量删除（仅草稿任务）
- 批量取消

## 部门主管功能

### 主管仪表板

点击"部门主管"菜单进入主管仪表板，显示：

**部门概览**：
- 总任务数
- 待分配任务数
- 进行中任务数
- 已完成任务数
- 完成率

**操作员负载**：
- 每个操作员的任务数量
- 各操作员的完成率
- 点击可查看该操作员的详细任务

### 任务分配

方式一：从任务列表分配
1. 在任务列表中找到待分配任务
2. 点击"分配"按钮
3. 选择操作员
4. 可选：输入分配备注
5. 确认分配

方式二：拖拽分配（推荐）
1. 在主管仪表板中
2. 从左侧"未分配"列拖动任务
3. 放到右侧对应的操作员列
4. 系统自动完成分配

**分配规则**：
- 只能分配本部门的任务
- 操作员最多同时持有10个任务
- 已取消的任务不能重新分配

### 配置分派规则

1. 进入"系统设置" -> "任务分派规则"
2. 选择要配置的工序
3. 设置部门优先级：
   - 使用拖拽调整优先级顺序
   - 数字越小优先级越高
   - 可以禁用某个部门的分派
4. 选择分派策略：
   - 优先级优先：始终选择最高优先级部门
   - 负载均衡：在相同优先级中选择负载最低的部门
5. 保存配置

### 查看部门统计

进入"数据统计"页面查看：
- 任务完成趋势图
- 部门任务分布
- 操作员绩效排名
- 平均完成时间

## 操作员功能

### 操作员中心

点击"操作员中心"进入专属界面：

**我的任务"标签页：
- 显示分配给你的所有任务
- 按状态分组（全部/待分配/进行中/已完成）
- 显示任务进度和优先级

**可认领任务"标签页：
- 显示本部门未分配的任务
- 一键认领功能

### 认领任务

1. 在"可认领任务"列表中找到任务
2. 点击"认领"按钮
3. 任务自动分配给你

**注意**：如果多个操作员同时认领同一任务，只有一个会成功，其他会收到冲突提示。

### 更新任务进度

1. 点击任务卡片
2. 选择"更新进度"
3. 输入已完成数量
4. 可选：输入次品数量
5. 系统自动计算进度百分比

### 完成任务

1. 点击任务卡片
2. 选择"完成任务"
3. 输入完成数量
4. 输入次品数量（如有）
5. 可选：输入完成说明
6. 确认完成

完成后：
- 任务状态变为"已完成"
- 主管会收到完成通知
- 统计数据自动更新

## 实时通知

### 接收通知

系统会在以下事件发生时发送通知：
- 任务被分配给你
- 任务被完成
- 施工单被审核

通知方式：
- 浏览器通知（需授权）
- 右上角通知铃铛
- 通知中心页面

### 查看通知历史

1. 点击通知铃铛图标
2. 查看最近的通知
3. 点击"查看全部"进入通知中心

通知中心显示最近30天的所有通知。

### 通知设置

进入"个人设置"可以配置：
- 是否启用浏览器通知
- 通知提示音
- 通知显示时长

## 数据统计

### 任务统计

进入"数据统计"页面查看：

**总体统计**：
- 今日完成任务数
- 本周完成任务数
- 当前待处理任务数
- 平均完成时间

**趋势图表**：
- 任务完成趋势（按天/周/月）
- 部门任务分布
- 操作员绩效对比

### 导出数据

系统支持导出以下数据：
- 任务列表（Excel格式）
- 完成统计（CSV格式）
- 部门报表（PDF格式）

点击"导出"按钮选择格式和范围。

## 常见问题

### Q: 为什么我的施工单不能编辑？

A: 只有"草稿"和"已提交"状态的施工单可以编辑。"已审核"的施工单不能编辑，这是为了保证生产数据的稳定性。

### Q: 草稿任务是什么？

A: 草稿任务是创建施工单时自动生成的临时任务。它们在施工单审核通过后转换为正式任务。草稿任务可以编辑和删除。

### Q: 如何更改任务的操作员？

A: 只有部门主管可以重新分配任务。主管可以在任务列表或主管仪表板中进行更改。操作员不能自行转交任务。

### Q: 任务认领失败怎么办？

A: 如果认领失败，可能是因为：
- 任务已被其他人认领
- 你不在该任务的部门中
- 你已达到最大任务数量限制

刷新页面后重试，或联系部门主管。

### Q: 为什么我看不到某些任务？

A: 任务可见性基于你的角色和部门：
- 主管可以看到本部门的所有任务
- 操作员只能看到分配给自己的任务和本部门的可认领任务
- 制单员可以看到自己创建的施工单的任务

### Q: 如何配置部门优先级？

A: 只有系统管理员和部门主管可以配置分派规则。进入"系统设置" -> "任务分派规则"进行配置。

### Q: 通知保留多久？

A: 通知保留30天。30天前的通知不会显示在列表中，但管理员可以在后台查看历史数据。

### Q: 如何删除施工单？

A: 只有"草稿"状态的施工单可以删除。已提交的施工单需要先被拒绝后才能删除。这是为了防止误删除影响生产。

## 技术支持

如果遇到问题或需要帮助，请联系：
- 系统管理员
- IT 部门
- 或查看在线帮助文档

## 更新日志

- **v1.0.0** (2026-02-02) - 初始版本发布
